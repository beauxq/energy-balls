(()=>{"use strict";var t=[function(){return[]},function(t,n,i,a,s,e){return[[n,i-a*(t[3]-s)/(t[3]-t[1]),n-a*(t[3]-s)/(t[3]-t[2]),i]]},function(t,n,i,a,s,e){return[[n-a,i-a*(t[2]-s)/(t[2]-t[0]),n-a*(s-t[3])/(t[2]-t[3]),i]]},function(t,n,i,a,s,e){return[[n-a,i-a*(t[2]-s)/(t[2]-t[0]),n,i-a*(t[3]-s)/(t[3]-t[1])]]},function(t,n,i,a,s,e){var o=i-a*(s-t[3])/(t[1]-t[3]);return[[n-a*(t[1]-s)/(t[1]-t[0]),i-a,n,o]]},function(t,n,i,a,s,e){return[[n-a*(t[1]-s)/(t[1]-t[0]),i-a,n-a*(t[3]-s)/(t[3]-t[2]),i]]},function(t,n,i,a,s,e){var o=n-a*(t[1]-s)/(t[1]-t[0]),h=n-a*(s-t[3])/(t[2]-t[3]),r=i-a*(t[2]-s)/(t[2]-t[0]),c=i-a*(s-t[3])/(t[1]-t[3]),u=a/2;return e(n-u,i-u)>s?[[o,i-a,n-a,r],[n,c,h,i]]:[[o,i-a,n,c],[n-a,r,h,i]]},function(t,n,i,a,s,e){var o=i-a*(t[2]-s)/(t[2]-t[0]);return[[n-a*(t[1]-s)/(t[1]-t[0]),i-a,n-a,o]]},function(t,n,i,a,s,e){var o=i-a*(s-t[2])/(t[0]-t[2]);return[[n-a*(s-t[1])/(t[0]-t[1]),i-a,n-a,o]]},function(t,n,i,a,s,e){var o=n-a*(s-t[1])/(t[0]-t[1]),h=n-a*(t[3]-s)/(t[3]-t[2]),r=i-a*(s-t[2])/(t[0]-t[2]),c=i-a*(t[3]-s)/(t[3]-t[1]),u=a/2;return e(n-u,i-u)>s?[[o,i-a,n,c],[n-a,r,h,i]]:[[o,i-a,n-a,r],[n,c,h,i]]},function(t,n,i,a,s,e){return[[n-a*(s-t[1])/(t[0]-t[1]),i-a,n-a*(s-t[3])/(t[2]-t[3]),i]]},function(t,n,i,a,s,e){var o=i-a*(t[3]-s)/(t[3]-t[1]);return[[n-a*(s-t[1])/(t[0]-t[1]),i-a,n,o]]},function(t,n,i,a,s,e){return[[n-a,i-a*(s-t[2])/(t[0]-t[2]),n,i-a*(s-t[3])/(t[1]-t[3])]]},function(t,n,i,a,s,e){return[[n-a,i-a*(s-t[2])/(t[0]-t[2]),n-a*(t[3]-s)/(t[3]-t[2]),i]]},function(t,n,i,a,s,e){return[[n,i-a*(s-t[3])/(t[1]-t[3]),n-a*(s-t[3])/(t[2]-t[3]),i]]},function(){return[]}];const n=function(){function t(t,n,i,a,s){this.radius=t,this.x=n,this.y=i,this.dx_ms=a,this.dy_ms=s}return t.prototype.update=function(t,n,i){this.x+=t*this.dx_ms,this.x>n?(this.x=n,this.dx_ms=-Math.abs(this.dx_ms)):this.x<0&&(this.x=0,this.dx_ms=Math.abs(this.dx_ms)),this.y+=t*this.dy_ms,this.y>i?(this.y=i,this.dy_ms=-Math.abs(this.dy_ms)):this.y<0&&(this.y=0,this.dy_ms=Math.abs(this.dy_ms))},t}(),i=function(){function i(t,n){var i=this;this.canvas=document.getElementById("c"),this.canvas.width=t,this.canvas.height=n,this.context=this.canvas.getContext("2d"),this.canvas.addEventListener("click",(function(t){console.log("click: ".concat(t.x," ").concat(t.y))})),this.lastT=0,this.balls=[],this.makeBalls(),requestAnimationFrame((function(t){i.draw(t)}))}return i.prototype.makeBalls=function(){var t=Math.floor(Math.min(12,Math.max(4,this.canvas.width*this.canvas.height/15e4+2)));console.log(t+" balls");for(var i=t;i>0;--i)this.balls.push(new n(Math.random()*Math.min(this.canvas.height,this.canvas.width)/5+17,Math.random()*this.canvas.width,Math.random()*this.canvas.height,.04*Math.random(),.04*Math.random()))},i.prototype.resize=function(t,n){this.canvas.width=t,this.canvas.height=n,this.context=this.canvas.getContext("2d")},i.prototype.draw=function(n){var i=this,a=n-this.lastT;a>500&&(a=0),this.lastT=n;for(var s=0,e=this.balls;s<e.length;s++)e[s].update(a,this.canvas.width,this.canvas.height);for(var o=function(t,n){for(var a=0,s=0,e=i.balls;s<e.length;s++){var o=e[s],h=t-o.x,r=n-o.y;a+=o.radius*o.radius/(h*h+r*r)}return a},h=this.canvas.width/8+1,r=this.canvas.height/8+1,c=[],u=0;u<h;++u){var d=8*u,v=0;c.push(o(d,v))}this.context.clearRect(0,0,this.canvas.width,this.canvas.height);for(var l=1;l<r;++l){var f=[o(0,v=8*l)];for(u=1;u<h;++u){d=8*u,f.push(o(d,v));var m=[c[u-1],c[u],f[u-1],f[u]],w=t[+(m[0]>1)<<3|+(m[1]>1)<<2|+(m[2]>1)<<1|+(m[3]>1)](m,d,v,8,1,o),x=Math.floor(255*d/this.canvas.width);this.context.strokeStyle="rgb(0, ".concat(255-x,", ").concat(x,")"),this.context.lineWidth=3,w.forEach((function(t){i.context.beginPath(),i.context.moveTo(t[0],t[1]),i.context.lineTo(t[2],t[3]),i.context.stroke()}))}c=f}requestAnimationFrame((function(t){i.draw(t)}))},i}();var a;window.onload=function(){var t=window.innerWidth,n=window.innerHeight;a=new i(t,n)},window.addEventListener("resize",(function(){console.log("browserZoomLevel: ".concat(window.devicePixelRatio));var t=window.innerWidth,n=Math.max(window.innerHeight,document.documentElement.clientHeight);null==a||a.resize(t,n)}),!1),window.onorientationchange=function(){var t=document.getElementsByTagName("html")[0],n=document.getElementsByTagName("body")[0];window.innerWidth<window.innerHeight?(t.style.overflowX="hidden",n.style.overflowX="hidden"):(t.style.overflowX="auto",n.style.overflowX="auto")}})();